This is a work-in-progress, for internal use TODO file only!

TODO list for Mega-65 shorter term (m65mem branch lifetime):

* Write new memory handling [DONE]
* Again: try different solutions for best performance within similar constraints? [PENDING]
* Make new memory handling work ... [DONE?]
* ... test it!
* Try to in-line CPU read/write primitives, check the performance impact [PENDING, TESTING]
* Rewrite I/O decoder ...
* ... test it!
* Hook DMA for (the new) direct internal I/O decoder [DONE]
* CPU optimization idea: paged read/write primitives (this means eg ZP aka. BP related opcodes can be optimized a very little in general ...)
* RMW CPU primitive optimization [DONE, though I/O related stuff is not, only for the full I/O area]
* Move VIC mode change into a handler in vic stuff (is this needed in this stage at all?)
* Make snapshotting working again [DONE?]
* Make (uart-)mon working again
* Fix uart-mon with breakpoint (didn't worked even in master branch since the multi-op CPU performance patch)
* Test if uart-mon works at all in a sane way ...
* Better speed control, allow custom M65-fast mode, just for test (CLI-switch?) [DONE]
* Maybe: rationalize the place of functions/variables within sources, maybe rename some sources
* Check header includes, a mess now :( Kill ones not needed in a given source (see the previous point too)
* Clean-up ...
* Extensive testing!!
* Merge m65mem into master, delete m65mem branch
* Binary deployment

SMALLER [?] misc TODOs in the future:

* Allow kbd scanning work in the oppsite way too (C65 material too)
* Import some C65 changes, OSD tries, and C1531 mouse emulation [OSD init, OSD(), mouse grab OK, C1351 untested]
* SD-card: emulate some delay after operation: it causes too much load on the host box being "zero time ready" condition
* FDC: C65/M65 too: similar as the previous one ...
* FDC: C65/M65 too: EQ bit more "delayed" handling without the needed hacks we currently have
* FDC: C65/M65 too: debug write problems (only on M65????)
* FDC D81 image mount from Hypervisor on M65: check the read/write only state, debug/test/etc
* M65 similar FDC r/w control "LED" on the screen corner?
* C65/M65 too: check Mega-65 kbd layout on PS/2 keyboard, and implement similar with Xemu!
* ALL/XEMU: config file support (in theory, the framework is there ...)
* ALL/XEMU: OSD menu possibility at least

Some theory should be checked:

* Colour related VIC reg: only lower 4 bits in C65 mode? (C65 material too)
* CPU I/O port "unused bits" on C65/M65: are the values readable back? (C65 material too)
* VIC-III ROM mappings cannot be "written-through" as C65 ROM mappings? (C65 material too)
* Extended colour RAM (C65 too!) and SD-card buffer mapping remains if mode switched back to VIC-II?
* Extended colour related VIC-regs remains if switched back VIC mode?
